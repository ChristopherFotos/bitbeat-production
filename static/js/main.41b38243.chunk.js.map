{"version":3,"sources":["components/Row/Beat.jsx","components/Row/Row.jsx","components/Pedal/settings.js","components/Pedal/Pedal.jsx","assets/icons/x.svg","functions/instrument.js","components/Instrument/Instrument.jsx","functions/music.js","components/InstrumentSelect/InstrumentItem/InstrumentItem.jsx","assets/icons/down-arrow.svg","assets/icons/up-arrow.svg","components/DrumKitItem/DrumKitItem.jsx","mouse.js","components/InstrumentSelect/InstrumentSelect.jsx","assets/icons/play-btn.svg","assets/icons/down-arrow-light.svg","assets/icons/up-arrow-light.svg","assets/icons/pause-btn.svg","assets/logo-bold.png","inst-options.js","components/DrumKit/DrumKit.jsx","components/InstrumentPanel/InstrumentPanel.jsx","assets/icons/floppy-disk.svg","firebase.js","components/Transport/Transport.jsx","App.js","index.js"],"names":["Beat","props","useState","active","setActive","step","useContext","GlobalStep","onClick","flip","layerKey","index","className","Row","tone","layer","map","l","i","placeBeat","settings","name","label","range","normalize","default","normalizers","n","Pedal","update","e","console","log","target","value","normal","dataset","change","effect","id","setState","rangeRef","current","style","boxShadow","state","changeGlow","backgroundColor","React","createRef","defaultState","this","type","forEach","s","divStyle","color","htmlFor","ref","data-normalize","onChange","min","max","Component","makeInstrumentLayers","keys","length","layers","k","push","Instrument","getLayers","updateEffect","effectId","property","val","newEffectsObjects","effectsObjects","find","obj","node","set","get","sound","chain","effects","volumeNode","setVolume","volume","makeTone","Tone","urls","baseUrl","onload","connect","key","newLayer","effectsChain","inst","toDestination","newObjectArray","uuid","o","time","triggerAttackRelease","dispose","src","remove","cleanUp","orient","width","gain","renderRows","reverse","filter","trigger","easing","triggerStyle","cursor","addEffect","notes","scales","chromatic","major","minor","getScale","scale","octave","uppercaseKey","toUpperCase","_scale","currentNote","indexOf","crossedOctave","InstrumentItem","expanded","expand","handleChange","makeInst","_notes","Number","addInst","fontSize","DrumKitItem","sounds","kit","Player","url","addKit","makeSounds","mouse","x","y","dragging","document","addEventListener","clientX","clientY","InstrumentSelect","instruments","drumKits","options","C1","C2","C3","C4","E3","D2","D4","E1","C5","E2","A2","B4","DrumKit","prevLength","newLayers","start","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","createContext","Trans","t","bpm","swing","clear","scheduleRepeat","incrementStep","go","playing","stop","addInstrument","newInst","role","removeInstrument","newInstArray","splice","j","changeValue","setLength","saveBeat","collection","doc","then","getBeats","beats","querySnapshot","beat","data","catch","error","ready","lengthMenuExpand","instOptions","kitOptions","newKit","lengthMenuExpanded","d","addDrumKit","logo","alt","Provider","pause","play","setExpanded","up","down","setReady","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.41b38243.chunk.js","sourcesContent":["import React, { useState, useContext } from 'react'\nimport { GlobalStep } from '../Transport/Transport'\nimport FadeIn from 'react-fade-in'\n\n\n// import cons[state, setstate] = useState(initialState)\n\nexport default function Beat (props) {\n    const [active, setActive] = useState()\n    const step = useContext(GlobalStep)\n\n    const toggle = ()=> {\n        active = !active\n        console.log(active);\n    }\n\n    return (\n        <FadeIn>\n        <div onClick = {() => {\n            setActive(!active)\n            props.flip(props.layerKey, props.index)\n        }} \n            className = {`beat ${active ? 'beat--active' : ''}${step.step === props.index  ? 'beat--playing' : ''}`}>\n        </div>\n        </FadeIn>\n    )\n}\n","import React, { Component } from 'react'\nimport Beat from './Beat'\nimport FadeIn from 'react-fade-in'\nimport './Row.scss'\n\n\n// takes an array as props, maps over it to render beats\n\nexport default function Row(props) {\n\n\n\n    return (\n        <div className='row'>\n            {/* <FadeIn className='row' style={{display: 'flex'}}> */}\n            <span className=\"row__key\">{props.tone}</span>{props.layer.map((l, i) => <Beat flip={props.placeBeat} layerKey={props.tone} index = {i} />)}\n            {/* </FadeIn> */}\n        </div>\n    )\n}\n\n"," // used in Pedals.jsx for creating settings controls\r\n \r\n const settings = {\r\n    'Reverb': [\r\n        {\r\n            name: 'decay',\r\n            label: 'decay',\r\n            range: [0.001, 10],\r\n            normalize: 0,\r\n            default: 10\r\n        },\r\n\r\n        {\r\n            name: 'wet',\r\n            label: 'wet',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 1\r\n        }\r\n    ],\r\n\r\n    'FeedbackDelay': [\r\n        {\r\n            name: 'feedback',\r\n            label: 'feedback',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 0.1\r\n        },\r\n\r\n        {\r\n            name: 'delayTime',\r\n            label: 'delay time',\r\n            range: [1, 3],\r\n            normalize: 2,\r\n            default: 1\r\n        },\r\n    ],\r\n    \r\n    'Distortion': [\r\n        {\r\n            name: 'distortion',\r\n            label: 'distortion',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 1\r\n        },\r\n    ],\r\n\r\n    'JCReverb': [\r\n        {\r\n            name: 'roomSize',\r\n            label: 'room size',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 5\r\n        },\r\n\r\n        {\r\n            name: 'wet',\r\n            label: 'wet',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 5\r\n        },\r\n    ],\r\n\r\n    'Vibrato': [\r\n        {\r\n            name: 'depth',\r\n            label: 'depth',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 1\r\n        },\r\n\r\n        {\r\n            name: 'frequency',\r\n            label: 'frequency',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 1\r\n        },\r\n        {\r\n            name: 'wet',\r\n            label: 'wet',\r\n            range: [1, 10],\r\n            normalize: 1,\r\n            default: 5\r\n        },\r\n    ],\r\n    'EQ3': [\r\n        {\r\n            name: 'high',\r\n            label: 'high',\r\n            range: [1, 20],\r\n            normalize: 0,\r\n            default: 5\r\n        },\r\n\r\n        {\r\n            name: 'mid',\r\n            label: 'mid',\r\n            range: [1, 20],\r\n            normalize: 0,\r\n            default: 5\r\n        },\r\n        {\r\n            name: 'low',\r\n            label: 'low',\r\n            range: [1, 20],\r\n            normalize: 0,\r\n            default: 5\r\n        },\r\n    ],\r\n\r\n\r\n\r\n    normalizers: [\r\n        n => n,\r\n        n => n/10,\r\n        n => {\r\n            if(n == 1) return '16n'\r\n            if(n == 2) return '8n'\r\n            if(n == 3) return '4n'\r\n        }\r\n    ]\r\n}\r\n\r\nexport default settings","import React, { Component } from 'react'\r\nimport settings from './settings.js'\r\nimport './Pedal.scss'\r\nimport FadeIn from 'react-fade-in';\r\n\r\n\r\n\r\nexport default class Pedal extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {}\r\n        this.style = {\r\n            backgroundColor: 'red'\r\n        }\r\n\r\n        this.rangeRef = React.createRef()\r\n    }\r\n    \r\n\r\n    componentDidMount(){\r\n        // setting the default values in state according to the settings object\r\n\r\n        const defaultState = {}\r\n\r\n        settings[this.props.effect.type].forEach((s)=>{\r\n            defaultState[s.name] = s.default\r\n        })\r\n\r\n\r\n        this.setState({\r\n            ...defaultState\r\n        })\r\n    }\r\n\r\n    update = (e) => {\r\n        console.log(e.target.value);\r\n        // normalizing the value using the normalization function in the settings object \r\n        const normal = settings.normalizers[e.target.dataset.normalize](e.target.value);\r\n\r\n        this.props.change(this.props.effect.id, e.target.name, normal)\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n\r\n        this.rangeRef.current.style.boxShadow = `10px 10px 90px ${this.state[e.target.name]}px #ff4a4a !important;`\r\n        console.log('shaodow: ' ,);\r\n    }\r\n\r\n    changeGlow = (name)=> {\r\n\r\n    }\r\n\r\n    render() {\r\n        const divStyle = {\r\n            color: 'blue !important',\r\n\r\n          };\r\n\r\n        return (\r\n            <FadeIn>\r\n            <div className='pedal'>\r\n                <h3 className=\"pedal__heading\">{this.props.effect.type}</h3>\r\n                {\r\n                    settings[this.props.effect.type].map(s => {\r\n                        return (\r\n                            <div className=\"pedal__range-wrap\">\r\n                                <label htmlFor={s.name}>{s.label}</label>    \r\n                                <input type='range' ref = {this.rangeRef}style={divStyle} data-normalize={s.normalize} value={this.state[s.name]} onChange={this.update} name={s.name} min={s.range[0]} max={s.range[1]} />\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            </FadeIn>\r\n        )\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/x.c7bd7f24.svg\";","export default function makeInstrumentLayers(keys, length) {\n    const layers = {}\n\n    keys.forEach(k => {\n        layers[k] = []\n        for(let i = 1; i <= length; i++){\n            layers[k].push(0)\n        }\n    })\n\n    return layers\n}\n","import React, { Component } from 'react'\nimport * as Tone from 'tone'\nimport Row from '../Row/Row'\nimport './Instrument.scss'\nimport Pedal from '../Pedal/Pedal'\nimport {v4 as uuid} from 'uuid'\nimport remove from '../../assets/icons/x.svg'\nimport Collapsable from 'react-collapsible'\nimport makeInstrumentLayers from '../../functions/instrument'\nimport { Time } from 'tone';\n\nexport default class Instrument extends Component {\n    constructor(props){\n        super(props) \n        this.state ={\n            length: this.props.length,\n            layers : {},\n            volume: -12,\n            volumeNode: new Tone.Volume, \n            effectsObjects: [],\n            effectsChain: []\n        }\n    }\n\n    getLayers = () => this.state.layers\n\n    componentDidMount(){\n        this.setState({\n            ...this.state,\n            layers: this.props.layers,\n            sound: this.makeTone(this.props.inst.tone)\n        })   \n\n        this.state.volumeNode.set({volume:this.state.volume}).toDestination()\n    }\n\n    addEffect(effect, val) {\n        // copy the array of effects objects\n        const newObjectArray = [...this.state.effectsObjects]\n        \n        // push a new effect object in there using the effect param, which is a string\n        newObjectArray.push({\n            node: new Tone[effect](...val),\n            type: effect,\n            id: uuid()\n        })\n\n        // replace the old effectsObjects array with the clone we just manipulated\n        this.setState({\n            ...this.state,\n            effectsObjects: newObjectArray,\n            effects: newObjectArray.map(o => o.node)\n        }, () => { this.state.sound.chain(...this.state.effects, this.state.volumeNode)})\n    }\n\n    updateEffect = (effectId, property, val) => {\n        // copy the current effectsObjects array\n        const newEffectsObjects = [...this.state.effectsObjects]\n\n        // get the effect object whos id mathces effectId\n        let effect = newEffectsObjects.find(obj => obj.id === effectId)\n\n        // set the property specified by the property param equal to the val param\n        effect.node.set({[property]: val})\n        console.log('NEW NODE VAL: ', effect.node.get(property));\n\n        // set state, replacing the old effects objects array with the one we just manipulated\n        this.setState({\n            ...this.state,\n            effectsObjects: newEffectsObjects, \n        }, () => { this.state.sound.chain(...this.state.effects, this.state.volumeNode)})\n        // we may have to call the chain method again here\n    }\n\n    setVolume = (e) => {\n        this.setState({\n            ...this.state,\n            volume: e.target.value\n        })\n\n        this.state.volumeNode.set({volume:e.target.value}) \n    }\n\n    go(){\n        for(const layer in this.state.layers){\n            if(this.state.layers[layer][this.props.step]){\n                let time = Tone.now()\n                this.state.sound.triggerAttackRelease([layer], '8n.', time) \n            } \n        }   \n    }\n\n    cleanUp(){\n        this.state.sound.dispose()\n        if(this.state.effects) this.state.effects.forEach(e => e.dispose())\n    }\n\n    makeTone = (tone) => {\n        return new Tone.Sampler({\n        urls: tone.urls,\n        baseUrl: tone.baseUrl,\n        onload: () => {\n            console.log('LOADED');\n        }}).connect(this.state.volumeNode)    \n    }\n\n    renderRows(){\n        // pushing every array in this.layers into an array \n        let layers = []\n        for (const key in this.state.layers){  \n            layers.push([key, ...this.state.layers[key]])\n        }\n        // returning the array\n        return layers\n    }\n\n    placeBeat = (key, index) => {\n        let newLayer = [...this.state.layers[key]]\n        newLayer[index] === 0 ? newLayer[index] = 1 : newLayer[index] = 0\n        this.setState({\n            layers: {\n                ...this.state.layers,\n                [key]: newLayer\n            }\n        })\n    } \n\n    render() {\n        return (  \n                <div className = 'instrument'>\n                    <img src={remove} className= 'instrument__remove-btn' onClick={()=>{this.cleanUp();this.props.remove(this.props.index)}} /> \n                    <h3 className=\"instrument__name\">{this.props.inst.name}</h3>\n                    <div className=\"instrument__volume-wrap\">\n                        <label htmlFor=\"volume\"> volume </label>\n                        <input orient=\"vertical\" className='instrument__volume' name = 'volume' style={{width: '400px'}} type=\"range\" min='-55' max='20' onChange={e=>this.setVolume(e)} value={this.state.gain}/>\n                    </div>\n\n                    <div className=\"instrument__wrap\">\n                    \n                               \n                    {\n                        // creating a Row component for each member of the array and passing it a layer\n                        this.renderRows()\n                        .reverse()\n                        .map(l => <Row placeBeat = {this.placeBeat} tone = {l[0]} layer = {l.filter(i => typeof i !== 'string')} />)\n                    }     \n                    <div className=\"instrument__wrap\">\n                        <div className=\"instrument__effect-rack\">\n                         <Collapsable trigger='Effects:' easing = 'cubic-bezier(1, 2, 0.6, 0.7)' triggerStyle={{cursor: 'pointer'}}> \n                        <div className=\"instruments__button-wrap\">  \n\n                            <span className = 'instrument__effect-btn' onClick={() => this.addEffect('Reverb', [10])}>reverb</span> \n                            <span className = 'instrument__effect-btn' onClick={() => this.addEffect('Distortion',[0.5])}>distortion</span> \n                            <span className = 'instrument__effect-btn' onClick={() => this.addEffect('FeedbackDelay', ['16n', 0.5])}>feedback delay</span>\n                            <span className = 'instrument__effect-btn' onClick={() => this.addEffect('Vibrato', [1, 1])}>vibrato</span>\n                            <span className = 'instrument__effect-btn' onClick={() => this.addEffect('JCReverb', [0.5])}>room reverb</span>\n                            <span className = 'instrument__effect-btn' onClick={() => this.addEffect('EQ3', [3,3,3])}>EQ3</span>\n                        </div>\n                        </Collapsable>  \n                        <div className=\"instrument__pedals\">\n                        {\n                                this.state.effectsObjects.map(obj => {\n                                    return(\n                                    <Pedal change={(id,property,val)=>this.updateEffect(id,property,val)} \n                                    key={obj.id} \n                                    effect={obj}\n                                />)})\n                            }\n                        </div>\n                        </div> \n                        \n                    </div>\n                    </div>\n                </div>\n        )\n    }\n}\n\n// const makeTone = (tone) => {\n\n//     return new Tone.Sampler({\n//     urls: tone.urls,\n//     baseUrl: tone.baseUrl,\n//     onload: () => {\n//         console.log('LOADED');\n//     }}).toDestination() \n\n// }","const notes = {\n    notes: [\n        'C','C#','D','D#','E','F','F#','G','G#','A','A#','B', \n        'C','C#','D','D#','E','F','F#','G','G#','A','A#','B'\n    ],\n    scales: {\n        chromatic: [1,1,1,1,1,1,1,1,1,1,1,1],\n        major: [2,2,1,2,2,2,],\n        minor: [2,1,2,2,1,2,]\n    },\n\n    getScale: function(key, scale, octave){\n        const uppercaseKey = key.toUpperCase()\n        const _scale = []\n        _scale.push(uppercaseKey + octave)\n\n        let currentNote = this.notes.indexOf(uppercaseKey)\n        let crossedOctave = false\n\n        this.scales[scale].forEach(i => {\n            if(currentNote >= 10 && !crossedOctave) {\n                crossedOctave = true\n                octave ++\n            } \n            currentNote >= this.notes.length - 1 ? currentNote = 0 + i: currentNote += i\n            _scale.push(this.notes[currentNote] + octave)\n        })\n\n        return _scale\n    }\n}\n\n\nexport default notes","import React, { Component } from 'react'\nimport { Player } from 'tone'\nimport notes from '../../../functions/music'\nimport expand from '../../../assets/icons/down-arrow.svg'\nimport collapse from '../../../assets/icons/up-arrow.svg'\nimport './InstrumentItem.scss'\n\nimport Collapsible from 'react-collapsible';\n\nexport default class InstrumentItem extends Component {\n    state = {\n        key: 'C',\n        scale: 'major',\n        octave: '3',\n        range: 1,\n        expanded: false\n    }\n\n\n\n    expand = () => {\n        this.setState({\n            ...this.state,\n            expanded: !this.state.expanded\n        })\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            ...this.state,\n            [e.target.name]: e.target.value\n        })\n\n        console.log(this.state[e.target.name]);\n    }\n\n    makeInst = (key, scale, octave, range, tone, type) => {\n        let _notes = []\n\n        for(let i = 0; i < range; i++){\n            _notes = [..._notes, ...notes.getScale(key, scale, Number(octave) + i)]\n            console.log(_notes);\n        }\n\n        this.props.addInst({keys:_notes, tone:tone, type})\n    }\n\n    render() {\n        // if (this.state.expanded){\n        return (\n            \n            <Collapsible\n                trigger = {this.props.inst.name}\n                triggerStyle = {{\n                    color: \"#ff4a4a\",\n                    fontSize: '20px',\n                    cursor: 'pointer'\n                }}\n                easing = 'ease-in-out'\n                className='inst'\n            >\n            <div className='inst'>\n            <div className='inst__wrapper'>\n                <label className='inst__form-label' htmlFor=\"key\">Key:</label>\n                <input className='inst__input' name='key' onChange = {(e) => this.handleChange(e)} type=\"text\" value={this.state.key}/>\n\n                <label className='inst__form-label' htmlFor=\"scale\">Scale:</label>\n                <select className='inst__select' onChange = {(e) => this.handleChange(e)} value={this.state.scale} name=\"scale\" id=\"cars\">\n                    <option value=\"chromatic\">chromatic</option>\n                    <option value=\"major\">major</option>\n                    <option value=\"minor\">minor</option>\n                </select>\n\n                <label className='inst__form-label' htmlFor=\"key\">octave</label>\n                <input className='inst__input' name='octave' onChange = {(e) => this.handleChange(e)} value={this.state.octave} type=\"number\"/>\n                <label className='inst__form-label' htmlFor=\"range\">range</label>\n                <input className='inst__input' name='range' onChange = {(e) => this.handleChange(e)} value={this.state.range} type=\"number\"/>\n\n                <span className=\"inst_btn-wrap\">\n                    <button className='inst__btn' onClick={\n                        ()=>this.makeInst(this.state.key, \n                            this.state.scale, this.state.octave, \n                            this.state.range, \n                            {\n                                urls: this.props.inst.urls,\n                                baseUrl: this.props.inst.baseUrl,\n                                name: this.props.inst.name\n                            },\n                            this.props.inst.type\n                    )}>\n                        ADD\n                    </button>\n                </span>\n            </div>\n            </div>\n            </Collapsible>\n        )\n        // } else {\n        //     return (\n        //         <>\n        //             <div className=\"inst__title-wrap\">\n        //             <h3 className=\"inst__name\" onClick={this.expand}>{this.props.inst.name}</h3> \n        //             <img className='inst__expand-icon' src={expand} onClick={this.expand} alt=\"\"/>\n        //             </div>\n        //         </>\n        //     )\n        // }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/down-arrow.491f2dd1.svg\";","export default __webpack_public_path__ + \"static/media/up-arrow.71003ba5.svg\";","import React, { Component } from 'react'\nimport { Player } from 'tone'\nimport '../InstrumentSelect/InstrumentItem/InstrumentItem.scss'\n\nexport default class DrumKitItem extends Component {\n\n    makeSounds(){\n        const sounds = {}\n        const keys = []\n        this.props.kit.sounds.forEach(k=> {\n            sounds[k.name] = new Player(k.url).toDestination();\n            keys.push(k.name)\n        })\n        return {\n            sounds: sounds,\n            keys: keys\n        }\n    }\n\n    render() {\n        return(\n            <h3 className='inst__name'\n                onClick={() => this.props.addKit(\n                    this.makeSounds()\n                )}\n            >\n                {this.props.kit.name}\n        </h3>\n        )\n    }\n}\n","const mouse = {\r\n    x: null,\r\n    y: null,\r\n    dragging: false\r\n}\r\n\r\ndocument.addEventListener('mousedown', e=>{\r\n    mouse.dragging = true\r\n})\r\n\r\ndocument.addEventListener('mouseup', e=>{\r\n    mouse.dragging = false\r\n})\r\n\r\ndocument.addEventListener('mousemove', e=>{\r\n    mouse.x = e.clientX\r\n    mouse.y = e.clientY\r\n})\r\n\r\nexport default mouse","import React from 'react'\nimport makeInstrumentLayers from '../../functions/instrument'\nimport InstrumentItem from './InstrumentItem/InstrumentItem'\nimport './InstrumentSelect.scss'\nimport {useState} from 'react'\nimport {useRef} from 'react'\nimport notes from '../../functions/music'\nimport DrumKitItem from '../DrumKitItem/DrumKitItem'\nimport mouse from '../../mouse'\n\n\nexport default function InstrumentSelect(props) {\n    \n\n    return (\n        <div className='instrument-select'>\n            <h1>Instruments:</h1>\n            {props.instruments.map(i => <InstrumentItem inst={i} addInst = {props.addInst}/>)}\n            <h1>Drumkits:</h1>\n            {props.drumKits.map(k => <DrumKitItem kit={k} addKit = {props.addKit} />)}\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/play-btn.c80694b7.svg\";","export default __webpack_public_path__ + \"static/media/down-arrow-light.537dc72d.svg\";","export default __webpack_public_path__ + \"static/media/up-arrow-light.fee76e30.svg\";","export default __webpack_public_path__ + \"static/media/pause-btn.2b3135b9.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAUCAYAAAATMxqtAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kbtLA0EQhz+jIeIDA1pYKARRK5UYIWhjEfEFahEj+Goul1wi5OJxdyJiK9gKCqKNr0L/Am0Fa0FQFEHsBGtFGw3nnAkkiJllZ7/97cywOwueWEbVraog6FnbjI5GArNz8wHfCxX48dKKT1EtY3J6JEZZ+7yXaLHbbrdW+bh/rTaRtFSoqBYeVA3TFh4Tnli1DZd3hJvUtJIQPhPuMuWCwneuHs/zq8upPH+7bMaiQ+DxCwdSJRwvYTVt6sLyctr1zIpauI/7krpkdmZa1jaZLVhEGSVCgHGGGSJMLwPiw3QTokd2lMkP/uZPsSy5qniDNUyWSJHGpkvUFamelFUTPSkjw5rb/799tbS+UL56XQS8z47z3gG+bchtOc7XkePkjqHyCS6zxfzlQ+j/EH2rqLUfQMMGnF8VtfguXGxC86OhmMqvVCnTo2nwdgr1c9B4AzUL+Z4Vzjl5gNi6fNU17O1Dp8Q3LP4AEXBnvyuOEyUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAWzSURBVFiFxdh/zJZVGQfwz41UQitBwPBomdOimVpJTejHoDDNY01tmG22Za62xKC16dr6K5tt6j81nP3QlCYz20Q3l5xNBXVJ5LRihZoUyJTXYxKGViagcPfHuR94eN7ned7n/YF8t3v3fZ/rXNe5znXOuX6cKudcY0kI4adGiZzzHlwZQlg+Wl6oY7wUK3qR8SKGsB7Lq5S2jGWcNxOTD7cCDa7CHsWIddN2BI7Bifg6ltYxXlKldMfhUXEwjNegi/BMZ2PO+fs4J4Qwf0A5N1YpvdaLWMd4NFbhljrGR6uUto5F2UOBOsZtuLpK6RcwaTzCQgiPhBCe70J6B2aNR3Y7qpT+hUswBZ+aKLkThNmY2voZl0HfTFQpvYCtOPVw69IPBx35nPMUnI95eEUJButCCK92Y845L8KmEMJQ8z8TH8IJmNrQNTJ2T4C+b0FfOXWM78V8zG3m8Ef8vkpp5wh8U3EhTlZ23Xb8DWuqlF7s0v8jOFrZlHPqGBdh+36D5pw/gZVKENihbOOpeCLnHEMI27rosQZX4CfN/5m4t4MOx+If/SY0EuoYj8Px+FMP+iQluP1QCWjP4Z2Yhu1NQFvTg/d83KoYSMM7reF/uY5xWZXSyg62a3F2872kee5sHfkzcT8exQJlhY5Sgs4srM85v32AeT+C05WFGWq+T8dLA/D2RB3jUfgVtiD16PYzXIPrMa1K6QTFQKfiKdxfx3hRF9nvwx34MyJmNbzT8B6sw4o6xlM6WL/ZzG0vrmu+r2zt0K/i57g8hFC3MT2Yc17QKHQpbuw38RDCv7Ex5/xP7A4hbOzXvw1fqWPc09F2pLKwJ+OLyvGLVUrDjnwd4xn4BpZVKd3Qaq9SqvFkHeNZeAjX1zHeU6XUPtZivI4vVCm92sG7rY7xAmXHflexU4u+tRm7Rq5S2sgBH3oXrugwJgghbMo534WlRjDoOHDTCPTncLPe/vMH+IMe+lUp7a1jvAx/V4xycxt5teInu8aJhnc1PjyCjjgQ5deGEPb26fcbzMk5HzmI0DEgYHrHMxunKW7nVnwPT9cxfr4L/3zcXaW0r9cAVUqb8bji3trb/1Kl9PgI+m1XAu2IGDSxH2re71ZWeaLxco/EvhVdH6xjvFbxZ6vqGI+rUnoJ6hhnKL4y1DEuG2Gc1xQXMgxNUPs0vqz4zmOVRZ2Ct+G/g0xkUINub96zHRqDjogqpd11jEvwGL6E1t3Dic37WwOKGpat1DEuwC04SUmznlbixk7sUwL13EGED2rQmc37hQH7Hyo8odT6J7W1tRb7c0qmMirUMX5MSfXW4twqpWEbpo5xnwk26PFKevDsgP0PFfbiDSUDaGEIu/DRKqX7xiDzGmzA4iqlN8ar4KCl5yexOYTw+ihkV2PQZyR8UKmW9if3TSDahLPqGPuOWcf4rjrG6W3/k/FxrBqnMfeP2zLoZ3LOb+3WM+c8S8lBb+hG74H/KYXBhKGZ/HVK6vRQB/lHWIgL+vDPUNKv2NY8WdntPTdWHeNMxWf3wkFzbQlajDU552Pae+acZyjXZjsVpz0odmBGzvn9o+DpijrGI+oYz1b842extMv13Url2N5Uxxi7yJiOXysV292t9iqlXcpuX9aUtp18C5X89rQ+Ku5Q7j5wwIeuVPKzoZzzevxWSZHOaejnhRB29RHaiQeU4PFwzvkB3BZCWNun/7rG8bejdcE8u/negsvwy07mKqV9dYwXKuXp6jrGh5Vo/QrmKDt3NxZ2Sc+W4ndKVbRBCU6Ua8J5zXjPK7V6N9yHy5sxN0/C7bhNuSW6WvEHSxUD34N5IYQNPYTdrpSEByGE8BQuUnbNXAeyhE4808j4q+IH258nFQN9G+fiA1VKK5qScBiqlJ5V0pvv4D+4WLksOQU/xpxWedjB9xjOaOY6uxnvYmUB51cpfU0pCO7sMYersFxxHXP/D8zI754vWlARAAAAAElFTkSuQmCC\"","// import {Tone}  from \"tone/build/esm/core/Tone\"\n\nconst options = {\n    inst:[\n    {\n        name: 'rhodes',\n        baseUrl: \"http://localhost:3000/samples/rhodes/\",\n        urls: {\n            C1:\"US_Rhodes_C1.wav\",\n            C2:\"US_Rhodes_C2.wav\",\n            C3:\"US_Rhodes_C3.wav\",\n            C4:\"US_Rhodes_C4.wav\",\n        },\n        type:'sampler'\n    },\n\n    {\n        name: 'rhodes2',\n        baseUrl: \"http://localhost:3000/samples/rhodes/\",\n        urls: {\n            C1:\"US_Rhodes_C1.wav\",\n            C2:\"US_Rhodes_C2.wav\",\n            C3:\"US_Rhodes_C3.wav\",\n            C4:\"US_Rhodes_C4.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'synth',\n        baseUrl: \"http://localhost:3000/samples/synth/\",\n        urls: {\n            'A#1':\"Asharp1.wav\",\n            'C1':\"C1.wav\",\n            'D#2':\"Dsharp2.wav\",\n            'G#2':\"Gsharp2.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'digi-synth',\n        baseUrl: \"http://localhost:3000/samples/digi-synth/\",\n        urls: {\n            C3:\"DigiMass_C3.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'cello',\n        baseUrl: \"http://localhost:3000/samples/cello/\",\n        urls: {\n            C1:\"Cello-C1.wav\",\n            C2:\"Cello-C2.wav\",\n            C3:\"Cello-C3.wav\",\n            C4:\"Cello-C4.wav\",\n        },\n        type: 'sampler'\n    },\n\n    // NEW INSTS    \n\n    {\n        name: 'Acid Synth',\n        baseUrl: \"http://localhost:3000/samples/acid-synth/\",\n        urls: {\n            C1:\"c1.wav\",\n            C2:\"c2.wav\",\n            C3:\"c3.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Elkaph Synth',\n        baseUrl: \"http://localhost:3000/samples/elkaph-synth/\",\n        urls: {\n            C2:\"ElkaC2.wav\",\n            C3:\"ElkaC3.wav\",\n            C4:\"ElkaC4.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Female choir',\n        baseUrl: \"http://localhost:3000/samples/female-choir/\",\n        urls: {           \n            C2:\"Fem_C2.wav\",\n            C3:\"Fem_C3.wav\",\n            C4:\"Fem_C4.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Breathy Female Vocals',\n        baseUrl: \"http://localhost:3000/samples/female-breathy/\",\n        urls: {\n            E3:\"Aah-E.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Guitar',\n        baseUrl: \"http://localhost:3000/samples/guitar/\",\n        urls: {\n            D2:\"D2.wav\",\n            D4:\"D4.wav\",\n            E1:\"E1.wav\",\n            E3:\"E3.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Harmonic Synth',\n        baseUrl: \"http://localhost:3000/samples/harm-synth/\",\n        urls: {\n            C1:\"C1.wav\",\n            C2:\"C2.wav\",\n            C3:\"C3.wav\",\n            C4:\"C4.wav\",\n            C5:\"C5.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Hard Synth Bass',\n        baseUrl: \"http://localhost:3000/samples/hard-res-synth-bass/\",\n        urls: {\n            C1:\"C1.wav\",\n            C2:\"C2.wav\",\n            E1:\"E1.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Must Destroy You Bass',\n        baseUrl: \"http://localhost:3000/samples/must-destroy-you-bass-1/\",\n        urls: {\n            C1:\"C1.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Slap Bass',\n        baseUrl: \"http://localhost:3000/samples/slap-bass/\",\n        urls: {\n            E1:\"slap-E1.wav\",\n            E2:\"slap-E2.wav\",\n            E3:\"slap-E3.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Square Bass',\n        baseUrl: \"http://localhost:3000/samples/square-bass/\",\n        urls: {\n            A2:\"A2.wav\",\n            C2:\"C2.wav\",\n            C3:\"C3.wav\",\n            B4:\"B4.wav\",\n        },\n        type: 'sampler'\n    },\n    {\n        name: 'Synth Bass',\n        baseUrl: \"http://localhost:3000/samples/synthbass/\",\n        urls: {\n            C1:\"C1.wav\",\n            C2:\"C2.wav\",\n            E1:\"E1.wav\",\n        },\n        type: 'sampler'\n    },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n    // {\n    //     name: '',\n    //     baseUrl: \"http://localhost:3000/samples/\",\n    //     urls: {\n    //         C1:\"\",\n    //         C2:\"\",\n    //         C3:\"\",\n    //         C4:\"\",\n    //     },\n    //     type: 'sampler'\n    // },\n\n    ],\n\n    kit: [\n        {\n            name: 'kitOne',\n            sounds:[\n                {name: 'kick', url: 'http://localhost:3000/samples/percussion/analog/KICK1.wav'},\n                {name: 'snare', url: 'http://localhost:3000/samples/percussion/analog/SNARE1.wav'},\n                {name: 'hat', url: 'http://localhost:3000/samples/percussion/analog/HHCL.wav'},\n                {name: 'hh-open', url: 'http://localhost:3000/samples/percussion/analog/HHOP.wav'},\n            ]\n        },\n    ]\n}\n\nexport default options","import React, { Component } from 'react'\nimport Row from '../../components/Row/Row'\nimport remove from '../../assets/icons/x.svg'\nimport './DrumKit.scss'\nimport * as Tone from 'tone'\n\nexport default class DrumKit extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            sounds:{},\n            layers: []\n        }\n    }\n\n    changeLength(l){\n        const prevLength = this.state.length\n\n        this.setState({\n                ...this.state,\n                length: l\n            })\n        \n        let newLayers = {}\n        \n        for(const key in this.state.layers){\n            newLayers[key] = this.state.layers[key]\n\n            for(let i = 0; i < l - prevLength; i++){\n                newLayers[key].push(0)\n            }\n        }    \n    \n        this.setState({\n            ...this.state,\n            layers: newLayers\n        })\n    }\n\n    componentDidMount(){\n        this.setState({\n            ...this.state,\n            layers: this.props.layers,\n            sounds: this.props.kit\n        })\n    }\n\n    go(){\n        for(const layer in this.state.layers){\n            if(this.state.layers[layer][this.props.step]){\n                const time = Tone.now()\n                console.log(this.state.sounds[layer]);\n                this.state.sounds[layer].start(time)\n            } \n        }\n    }\n\n    renderRows(){\n        // pushing every array in this.layers into an array \n        let layers = []\n        for (const key in this.state.layers){  \n            layers.push([key, ...this.state.layers[key]])\n        }\n        // returning the array\n        return layers\n    }\n\n    placeBeat = (key, index) => {\n        let newLayer = [...this.state.layers[key]]\n        newLayer[index] === 0 ? newLayer[index] = 1 : newLayer[index] = 0\n        this.setState({\n            layers: {\n                ...this.state.layers,\n                [key]: newLayer\n            }\n        })\n    } \n\n    render() {\n        this.renderRows()\n        return (  \n            <>\n            \n            <div className = 'instrument'>   \n            <img src={remove} className = 'instrument__remove-btn' onClick={()=>this.props.remove(this.props.index)} />           \n                {\n                    // creating a Row component for each member of the array and passing it a layer\n                    this.renderRows()\n                    .reverse()\n                    .map(l => <Row placeBeat = {this.placeBeat} tone = {l[0]} layer = {l.filter(i => typeof i !== 'string')} />)\n                }     \n            </div>\n            </>\n        )\n    }\n}\n","import './InstrumentPanel.scss'\nimport React, { Component } from 'react'\nimport DrumKit from '../DrumKit/DrumKit'\nimport Instrument from '../Instrument/Instrument'\n\nexport default class InstrumentPanel extends Component {\n    render() {\n        return (\n            <div className = 'instrument-panel'>\n                {this.props.instruments.map((i, j) => {\n                    if(i.role === 'inst') return (\n                        <Instrument \n                        step={this.props.step} \n                        inst = {i} \n                        length ={this.props.length}  \n                        index = {j} \n                        layers = {i.layers} \n                        ref={i.ref} \n                        remove={this.props.removeInstrument} />\n                    )\n                    if(i.role === 'kit') return (\n                        <DrumKit \n                        step={this.props.step} \n                        kit = {i.sounds} \n                        length = {this.props.length} \n                        index = {j} \n                        layers = {i.layers} \n                        ref={i.ref} \n                        remove={this.props.removeInstrument} />\n                    )\n                })}\n            </div>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/floppy-disk.92be8120.svg\";","import firebase from 'firebase'\nimport \"firebase/firestore\"\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyA1hcBBf0n3mPCSdTEoHdbptPe9dwmUN-g\",\n    authDomain: \"bitbeat-11ad2.firebaseapp.com\",\n    projectId: \"bitbeat-11ad2\",\n    storageBucket: \"bitbeat-11ad2.appspot.com\",\n    messagingSenderId: \"702992864567\",\n    appId: \"1:702992864567:web:5399265ca35d3dd045b6b2\",\n    measurementId: \"G-7VXP9PE1LC\"\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\nexport default firebase","import React, { Component } from 'react'\nimport Instrument from '../Instrument/Instrument'\nimport InstrumentSelect from '../InstrumentSelect/InstrumentSelect'\nimport makeInstrumentLayers from '../../functions/instrument' \nimport play from '../../assets/icons/play-btn.svg'\nimport down from '../../assets/icons/down-arrow-light.svg'\nimport up from '../../assets/icons/up-arrow-light.svg'\nimport pause from '../../assets/icons/pause-btn.svg'\nimport * as Tone from 'tone'\nimport logo from '../../assets/logo-bold.png'\nimport Collapsible from 'react-collapsible'\nimport options from '../../inst-options.js'\nimport Draggable from 'react-draggable';\nimport InstrumentPanel from '../InstrumentPanel/InstrumentPanel'\nimport './Transport.scss'\nimport save from '../../assets/icons/floppy-disk.svg'\nimport { Sampler } from 'tone'\nimport firebase from '../../firebase'\nimport {v4 as uuid} from 'uuid'\nimport DrumKit from '../DrumKit/DrumKit'\nimport { writable } from 'tone/build/esm/core/util/Interface'\nconst db = firebase.firestore()\n\n// Tone.setContext(new Tone.Context({ latencyHint : \"playback\" }))\n\n/* Analogous to the Rig class in index.js. */\nexport const GlobalStep = React.createContext()\n\nexport default class Trans extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            ready: false,\n            lengthMenuExpand: false,\n            playing: false,\n            length: 16,\n            bpm: 90,\n            step: -1,\n            instruments: [],         \n            instOptions: options.inst,\n            kitOptions: options.kit,\n            \n        }\n    }\n\n    start = (t,bpm) => {\n        Tone.Transport.bpm.value = bpm\n        Tone.Transport.swing = 1\n        const clear = Tone.Transport.scheduleRepeat(function(time){\n            t.incrementStep()\n            t.state.instruments.forEach(i => {\n                i.ref.current.go()\n            })\n            \n        }, \"8n\");\n        this.setState({\n            ...this.state,\n            playing: true,\n            bpm: bpm,\n            clear: clear\n        })\n        Tone.start()\n        Tone.Transport.start()\n    }\n\n    stop = () => {\n        Tone.Transport.clear(this.state.clear).stop()\n        this.setState({\n            ...this.state,\n            playing: false\n        })\n    }\n\n    addInstrument = (inst) => {\n        const newInst = {\n            ref: React.createRef(),\n            layers: makeInstrumentLayers(inst.keys, this.state.length),\n            tone: inst.tone,\n            sounds: inst.sounds,\n            type: inst.type,\n            name: inst.tone.name,\n            role: 'inst',\n            id: uuid(),\n        }\n\n        this.setState({\n            ...this.state,\n            instruments: [\n                ...this.state.instruments,\n                newInst\n            ]\n        })\n    }\n\n    addDrumKit(kit){\n        const newKit = {\n            ref: React.createRef(),\n            layers: makeInstrumentLayers(kit.keys, this.state.length),\n            sounds: kit.sounds,\n            role: 'kit',\n            id: uuid()\n        }\n\n        this.setState({\n            ...this.state,\n            instruments: [\n                ...this.state.instruments,\n                newKit\n            ]\n        })\n    }\n\n    removeInstrument = (i) => {\n        console.log('i: ', i);\n        const newInstArray = [...this.state.instruments]\n        console.log('new inst arry ', [...newInstArray]);\n\n        newInstArray.splice(i,1)\n\n        this.setState({\n            ...this.state,\n            instruments: this.state.instruments.filter((inst,j)=>j !== i)\n        })\n    }\n\n    incrementStep = () => {\n        this.setState(\n            {\n                ...this.state,\n                step: this.state.step === this.state.length - 1 ? 0 : this.state.step + 1\n            })\n    }\n\n    changeValue = (e) => {\n        this.setState({\n            ...this.state,\n            [e.target.name]: e.target.value\n        })\n\n        if(e.target.name === 'bpm'){\n            this.stop()\n            this.start(this, e.target.value)\n        }\n    }\n\n    setLength = n => {\n\n        console.log('running length');\n        this.setState({\n            ...this.state,\n            length: n\n        })\n    }\n\n    setExpanded(){\n        this.setState({\n            ...this.state,\n            lengthMenuExpanded: !this.state.lengthMenuExpand\n        })\n    }\n\n    setReady(){\n        this.setState({\n            ...this.state,\n            ready: true\n        })\n    }\n\n    saveBeat = () => {\n        \n        const instruments = this.state.instruments\n            .map(i => {\n                return ({\n                layers: i.ref.current.getLayers(),\n                tone: i.tone,\n                role: i.role,\n                sounds: i.sounds || 0,\n                type: i.type,\n            }\n          )\n        })\n\n        console.log(instruments);\n        \n        db.collection('beats').doc('LASTBEAT').set({           \n            bpm: this.state.bpm,\n            length: this.state.length,\n            instruments: instruments\n        })\n        .then(()=>console.log('doc written ok'))\n    }\n\n    getBeats = (t) => {\n        let beats = [];\n\n\n        db.collection(\"beats\")\n        .get()\n        .then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n                let beat = doc.data()\n                \n                if(beat.instruments){\n                    beat.instruments.forEach(i => {\n                        i.ref = React.createRef()\n                        i.id = uuid()\n                    })\n                    beats.push(beat)\n                }\n            });\n\n            console.log(t);\n            t.setState({\n                ...t.state,\n                bpm: beats[1].bpm,\n                length: beats[1].length,\n                instruments: beats[1].instruments,\n            })\n        })\n        .catch(function(error) {\n            console.log(\"Error getting documents: \", error);\n        });\n        \n    }\n\n    render() {\n        if(this.state.ready){\n            return (\n                // left panel\n                <div className=\"container\">\n                \n                \n                        <InstrumentSelect \n                            instruments = { this.state.instOptions } \n                            drumKits = {this.state.kitOptions}\n                            addInst = {(l)=>this.addInstrument(l)} \n                            addKit={(d)=>this.addDrumKit(d)}\n                        />\n\n                   \n\n                {/* Main panel */}\n                <div className='main'>\n                <img src={logo} className='logo' alt=\"\"/>\n                    <GlobalStep.Provider value = {{step: this.state.step}}>\n                     <div className=\"instruments\">\n                     \n                         {this.state.instruments.length < 1 && <h1 className='instruments__heading'>Add an instrument to get started</h1>}\n                         {[...this.state.instruments].map((i, j) => {\n                             if(i.role === 'inst') return <Instrument key={i.id} step={this.state.step} inst = {i} length ={this.state.length}  index = {j} layers = {i.layers} ref={i.ref} remove={this.removeInstrument}></Instrument>\n                             if(i.role === 'kit' ) return <DrumKit key={i.id} step={this.state.step} kit = {i.sounds} length ={this.state.length} index = {j} layers = {i.layers} ref={i.ref} remove={this.removeInstrument}></DrumKit>\n                         })}\n                     </div>\n                     </GlobalStep.Provider>                  \n                </div>\n\n                        <div className=\"controls__wrap\">\n                        <button className = 'setup__play-button' onClick = {() => {\n                        if(!this.state.playing) this.start(this, this.state.bpm)\n                        if(this.state.playing) this.stop()\n                        }} >\n                        <img src={this.state.playing ? pause : play} alt=\"\" className=\"setup__play-icon\"/>\n                        </button>\n                        <div className=\"controls__bpm-wrap\">\n                            BPM: {this.state.bpm}\n                            <input  \n                                className = 'transport__bpm'\n                                type=\"range\" \n                                name='bpm' min='60' \n                                max = '250'     \n                                onChange={e=>this.changeValue(e)} \n                                value={this.state.bpm}\n                            /> \n                        </div> \n                        </div>\n\n                </div>\n\n                \n\n        )} else return (\n            <div className=\"main\">\n                <img src={logo} className='logo' alt=\"\"/>\n                <div className=\"length-select\">\n                Select a length to start a beat\n                <Collapsible \n                    className = 'length-select__list' \n                    trigger={\n                        <div className='length-select__btn-wrap'>\n                        <div className='length-select__btn' onClick={() => this.setExpanded()}>\n                            Select a length\n                            <img className='length-select__arrow' src={this.state.lengthMenuExpand ? up : down} alt=\"\"/>\n                        </div>\n                        <span className='length-select__current'> {this.state.length} beats</span>\n                        </div>\n                    } \n                    easing='ease-in-out'\n                >\n                    \n                    <div onClick={()=>this.setLength(4)} className='length-select__option'  value=\"4\">4 beats</div>\n                    <div onClick={()=>this.setLength(8)} className='length-select__option'  value=\"8\">8 beats</div>\n                    <div onClick={()=>this.setLength(16)} className='length-select__option' value=\"16\">16 beats</div>\n                    <div onClick={()=>this.setLength(32)} className='length-select__option' value=\"32\">32 beats</div>\n                </Collapsible>\n                <button className='length-select__start' onClick={()=>this.setReady()}>+ start new beat</button>\n                </div>\n                \n            </div>\n        )\n    }\n}\n\n\n\n\n// db.collection(\"times\").get().then((querySnapshot) => {\n//     querySnapshot.forEach((doc) => {\n//         console.log(`${doc.id} => ${doc.data()}`);\n// });\n// });","\nimport Trans from './components/Transport/Transport'\nimport mouse from './mouse'\nimport './App.css';\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Trans></Trans>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}